{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\User\\\\Desktop\\\\PRCL\\\\frontend\\\\src\\\\pages\\\\Admin.jsx\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect } from 'react';\nimport { getCalculators, createCalculator, updateCalculator, deleteCalculator } from '../api';\nimport './Admin.css';\n\n//ШАБЛОНЫ КАЛЬКУЛЯТОРОВ\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst CATEGORY_TEMPLATES = {\n  mortgage: {\n    defaultRate: 9.6,\n    fields: [{\n      key: 'amount',\n      label: 'Сумма кредита',\n      type: 'number'\n    }, {\n      key: 'term',\n      label: 'Срок кредита (лет)',\n      type: 'number'\n    }, {\n      key: 'rate',\n      label: 'Процентная ставка (%)',\n      type: 'number'\n    }]\n  },\n  car: {\n    defaultRate: 3.5,\n    fields: [{\n      key: 'amount',\n      label: 'Сумма кредита',\n      type: 'number'\n    }, {\n      key: 'term',\n      label: 'Срок кредита (лет)',\n      type: 'number'\n    }, {\n      key: 'rate',\n      label: 'Процентная ставка (%)',\n      type: 'number'\n    }, {\n      key: 'vehicleCost',\n      label: 'Стоимость авто',\n      type: 'number'\n    }]\n  },\n  consumer: {\n    defaultRate: 14.5,\n    fields: [{\n      key: 'amount',\n      label: 'Сумма кредита',\n      type: 'number'\n    }, {\n      key: 'term',\n      label: 'Срок кредита (лет)',\n      type: 'number'\n    }, {\n      key: 'rate',\n      label: 'Процентная ставка (%)',\n      type: 'number'\n    }, {\n      key: 'income',\n      label: 'Ежемесячный доход',\n      type: 'number'\n    }]\n  },\n  pension: {\n    defaultRate: 0,\n    fields: [{\n      key: 'initial',\n      label: 'Начальная сумма',\n      type: 'number'\n    }, {\n      key: 'contribution',\n      label: 'Взнос в год',\n      type: 'number'\n    }, {\n      key: 'years',\n      label: 'Срок (лет)',\n      type: 'number'\n    }, {\n      key: 'rate',\n      label: 'Ожидаемая доходность (%)',\n      type: 'number'\n    }]\n  }\n};\nexport default function Admin() {\n  _s();\n  const [calculators, setCalculators] = useState([]);\n  const [form, setForm] = useState({\n    name: '',\n    type: '',\n    defaultRate: '',\n    fields: []\n  });\n  const [editingId, setEditingId] = useState(null);\n  const [error, setError] = useState('');\n  useEffect(() => {\n    fetchCalculators();\n  }, []);\n  async function fetchCalculators() {\n    try {\n      const data = await getCalculators();\n      setCalculators(data);\n    } catch {\n      setError('Не удалось загрузить список калькуляторов');\n    }\n  }\n  function handleCategoryChange(e) {\n    const type = e.target.value;\n    const template = CATEGORY_TEMPLATES[type] || {\n      defaultRate: '',\n      fields: []\n    };\n    setForm({\n      name: type.charAt(0).toUpperCase() + type.slice(1),\n      type,\n      defaultRate: template.defaultRate,\n      fields: template.fields.map(f => ({\n        ...f\n      }))\n    });\n  }\n  function handleFieldChange(index, key, value) {\n    const newFields = [...form.fields];\n    newFields[index][key] = value;\n    setForm({\n      ...form,\n      fields: newFields\n    });\n  }\n  //НОВОЕ ПОЛЕ КАЛЬКУЛЯТОРА\n  function addField() {\n    setForm({\n      ...form,\n      fields: [...form.fields, {\n        key: '',\n        label: '',\n        type: 'text'\n      }]\n    });\n  }\n  function removeField(index) {\n    const newFields = form.fields.filter((_, i) => i !== index);\n    setForm({\n      ...form,\n      fields: newFields\n    });\n  }\n  async function handleSave(e) {\n    e.preventDefault();\n    try {\n      if (editingId) {\n        await updateCalculator(editingId, form);\n      } else {\n        await createCalculator(form);\n      }\n      await fetchCalculators();\n      resetForm();\n    } catch {\n      setError('Ошибка при сохранении калькулятора');\n    }\n  }\n  function handleEdit(calc) {\n    setEditingId(calc._id);\n    setForm({\n      name: calc.name,\n      type: calc.type,\n      defaultRate: calc.defaultRate,\n      fields: calc.fields.map(f => ({\n        key: f.key,\n        label: f.label,\n        type: f.type\n      }))\n    });\n  }\n  async function handleDelete(id) {\n    try {\n      await deleteCalculator(id);\n      fetchCalculators();\n    } catch {\n      setError('Не удалось удалить калькулятор');\n    }\n  }\n  function resetForm() {\n    setEditingId(null);\n    setForm({\n      name: '',\n      type: '',\n      defaultRate: '',\n      fields: []\n    });\n    setError('');\n  }\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"admin\",\n    children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n      children: editingId ? 'Редактировать калькулятор' : 'Новый калькулятор'\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 144,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n      onSubmit: handleSave,\n      className: \"admin-form\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\u041A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044F:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 147,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: form.type,\n          onChange: handleCategoryChange,\n          required: true,\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"\",\n            children: \"\\u0412\\u044B\\u0431\\u0435\\u0440\\u0438\\u0442\\u0435 \\u043A\\u0430\\u0442\\u0435\\u0433\\u043E\\u0440\\u0438\\u044E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 149,\n            columnNumber: 13\n          }, this), Object.keys(CATEGORY_TEMPLATES).map(cat => /*#__PURE__*/_jsxDEV(\"option\", {\n            value: cat,\n            children: cat.charAt(0).toUpperCase() + cat.slice(1)\n          }, cat, false, {\n            fileName: _jsxFileName,\n            lineNumber: 151,\n            columnNumber: 15\n          }, this))]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 148,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 146,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\u041D\\u0430\\u0437\\u0432\\u0430\\u043D\\u0438\\u0435:\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 158,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          value: form.name,\n          onChange: e => setForm({\n            ...form,\n            name: e.target.value\n          }),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 159,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 157,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-group\",\n        children: [/*#__PURE__*/_jsxDEV(\"label\", {\n          children: \"\\u0421\\u0442\\u0430\\u0432\\u043A\\u0430 \\u043F\\u043E \\u0443\\u043C\\u043E\\u043B\\u0447\\u0430\\u043D\\u0438\\u044E (%):\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 167,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"number\",\n          value: form.defaultRate,\n          onChange: e => setForm({\n            ...form,\n            defaultRate: e.target.value\n          }),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 168,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"\\u041F\\u043E\\u043B\\u044F \\u043A\\u0430\\u043B\\u044C\\u043A\\u0443\\u043B\\u044F\\u0442\\u043E\\u0440\\u0430\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 176,\n        columnNumber: 9\n      }, this), form.fields.map((field, i) => /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"field-row\",\n        children: [/*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\u041A\\u043B\\u044E\\u0447 \\u043F\\u043E\\u043B\\u044F\",\n          value: field.key,\n          onChange: e => handleFieldChange(i, 'key', e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n          type: \"text\",\n          placeholder: \"\\u041C\\u0435\\u0442\\u043A\\u0430 \\u043F\\u043E\\u043B\\u044F\",\n          value: field.label,\n          onChange: e => handleFieldChange(i, 'label', e.target.value),\n          required: true\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 186,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n          value: field.type,\n          onChange: e => handleFieldChange(i, 'type', e.target.value),\n          children: [/*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"text\",\n            children: \"\\u0422\\u0435\\u043A\\u0441\\u0442\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 197,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"number\",\n            children: \"\\u0427\\u0438\\u0441\\u043B\\u043E\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 198,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"option\", {\n            value: \"date\",\n            children: \"\\u0414\\u0430\\u0442\\u0430\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 199,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 193,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: () => removeField(i),\n          children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 13\n        }, this)]\n      }, i, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 11\n      }, this)), /*#__PURE__*/_jsxDEV(\"button\", {\n        type: \"button\",\n        onClick: addField,\n        children: \"\\u0414\\u043E\\u0431\\u0430\\u0432\\u0438\\u0442\\u044C \\u043F\\u043E\\u043B\\u0435\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 204,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"form-actions\",\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"submit\",\n          children: editingId ? 'Сохранить' : 'Создать'\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 207,\n          columnNumber: 11\n        }, this), editingId && /*#__PURE__*/_jsxDEV(\"button\", {\n          type: \"button\",\n          onClick: resetForm,\n          children: \"\\u041E\\u0442\\u043C\\u0435\\u043D\\u0430\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 25\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 206,\n        columnNumber: 9\n      }, this), error && /*#__PURE__*/_jsxDEV(\"p\", {\n        className: \"error\",\n        children: error\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 210,\n        columnNumber: 19\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 145,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"\\u0421\\u0443\\u0449\\u0435\\u0441\\u0442\\u0432\\u0443\\u044E\\u0449\\u0438\\u0435 \\u043A\\u0430\\u043B\\u044C\\u043A\\u0443\\u043B\\u044F\\u0442\\u043E\\u0440\\u044B\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 212,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n      className: \"calc-list\",\n      children: calculators.map(calc => /*#__PURE__*/_jsxDEV(\"li\", {\n        className: \"calc-item\",\n        children: [/*#__PURE__*/_jsxDEV(\"span\", {\n          children: [calc.name, \" (\", calc.type, \")\"]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 216,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          children: [/*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleEdit(calc),\n            children: \"\\u0420\\u0435\\u0434\\u0430\\u043A\\u0442\\u0438\\u0440\\u043E\\u0432\\u0430\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 218,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            onClick: () => handleDelete(calc._id),\n            children: \"\\u0423\\u0434\\u0430\\u043B\\u0438\\u0442\\u044C\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 219,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 217,\n          columnNumber: 13\n        }, this)]\n      }, calc._id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 215,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 143,\n    columnNumber: 5\n  }, this);\n}\n_s(Admin, \"rq43vJihNVQehVbznU6Xt3NDIRw=\");\n_c = Admin;\nvar _c;\n$RefreshReg$(_c, \"Admin\");","map":{"version":3,"names":["React","useState","useEffect","getCalculators","createCalculator","updateCalculator","deleteCalculator","jsxDEV","_jsxDEV","CATEGORY_TEMPLATES","mortgage","defaultRate","fields","key","label","type","car","consumer","pension","Admin","_s","calculators","setCalculators","form","setForm","name","editingId","setEditingId","error","setError","fetchCalculators","data","handleCategoryChange","e","target","value","template","charAt","toUpperCase","slice","map","f","handleFieldChange","index","newFields","addField","removeField","filter","_","i","handleSave","preventDefault","resetForm","handleEdit","calc","_id","handleDelete","id","className","children","fileName","_jsxFileName","lineNumber","columnNumber","onSubmit","onChange","required","Object","keys","cat","field","placeholder","onClick","_c","$RefreshReg$"],"sources":["C:/Users/User/Desktop/PRCL/frontend/src/pages/Admin.jsx"],"sourcesContent":["import React, { useState, useEffect } from 'react';\r\nimport {\r\n  getCalculators,\r\n  createCalculator,\r\n  updateCalculator,\r\n  deleteCalculator\r\n} from '../api';\r\nimport './Admin.css';\r\n\r\n//ШАБЛОНЫ КАЛЬКУЛЯТОРОВ\r\nconst CATEGORY_TEMPLATES = {\r\n  mortgage: {\r\n    defaultRate: 9.6,\r\n    fields: [\r\n      { key: 'amount', label: 'Сумма кредита', type: 'number' },\r\n      { key: 'term',   label: 'Срок кредита (лет)', type: 'number' },\r\n      { key: 'rate',   label: 'Процентная ставка (%)', type: 'number' },\r\n    ]\r\n  },\r\n  car: {\r\n    defaultRate: 3.5,\r\n    fields: [\r\n      { key: 'amount',    label: 'Сумма кредита',        type: 'number' },\r\n      { key: 'term',      label: 'Срок кредита (лет)',   type: 'number' },\r\n      { key: 'rate',      label: 'Процентная ставка (%)',type: 'number' },\r\n      { key: 'vehicleCost', label: 'Стоимость авто',     type: 'number' },\r\n    ]\r\n  },\r\n  consumer: {\r\n    defaultRate: 14.5,\r\n    fields: [\r\n      { key: 'amount', label: 'Сумма кредита',         type: 'number' },\r\n      { key: 'term',   label: 'Срок кредита (лет)',    type: 'number' },\r\n      { key: 'rate',   label: 'Процентная ставка (%)', type: 'number' },\r\n      { key: 'income', label: 'Ежемесячный доход',     type: 'number' },\r\n    ]\r\n  },\r\n  pension: {\r\n    defaultRate: 0,\r\n    fields: [\r\n      { key: 'initial',  label: 'Начальная сумма',     type: 'number' },\r\n      { key: 'contribution', label: 'Взнос в год',    type: 'number' },\r\n      { key: 'years',    label: 'Срок (лет)',          type: 'number' },\r\n      { key: 'rate',     label: 'Ожидаемая доходность (%)', type: 'number' },\r\n    ]\r\n  }\r\n};  \r\n\r\nexport default function Admin() {\r\n  const [calculators, setCalculators] = useState([]);\r\n  const [form, setForm] = useState({\r\n    name: '',\r\n    type: '',\r\n    defaultRate: '',\r\n    fields: []\r\n  });\r\n  const [ editingId, setEditingId ] = useState(null);\r\n  const [ error, setError ] = useState('');\r\n\r\n  useEffect(() => {\r\n    fetchCalculators();\r\n  }, []);\r\n\r\n  async function fetchCalculators() {\r\n    try {\r\n      const data = await getCalculators();\r\n      setCalculators(data);\r\n    } catch {\r\n      setError('Не удалось загрузить список калькуляторов');\r\n    }\r\n  }\r\n\r\n  function handleCategoryChange(e) {\r\n    const type = e.target.value;\r\n    const template = CATEGORY_TEMPLATES[type] || { defaultRate: '', fields: [] };\r\n    setForm({\r\n      name: type.charAt(0).toUpperCase() + type.slice(1),\r\n      type,\r\n      defaultRate: template.defaultRate,\r\n      fields: template.fields.map(f => ({ ...f }))\r\n    });\r\n  }\r\n\r\n  function handleFieldChange(index, key, value) {\r\n    const newFields = [...form.fields];\r\n    newFields[index][key] = value;\r\n    setForm({ ...form, fields: newFields });\r\n  }\r\n  //НОВОЕ ПОЛЕ КАЛЬКУЛЯТОРА\r\n  function addField() {\r\n    setForm({\r\n      ...form,\r\n      fields: [...form.fields, { key: '', label: '', type: 'text' }]\r\n    });\r\n  }\r\n\r\n  function removeField(index) {\r\n    const newFields = form.fields.filter((_, i) => i !== index);\r\n    setForm({ ...form, fields: newFields });\r\n  }\r\n\r\n  async function handleSave(e) {\r\n    e.preventDefault();\r\n    try {\r\n      if (editingId) {\r\n        await updateCalculator(editingId, form);\r\n      } else {\r\n        await createCalculator(form);\r\n      }\r\n      await fetchCalculators();\r\n      resetForm();\r\n    } catch {\r\n      setError('Ошибка при сохранении калькулятора');\r\n    }\r\n  }\r\n\r\n  function handleEdit(calc) {\r\n    setEditingId(calc._id);\r\n    setForm({\r\n      name: calc.name,\r\n      type: calc.type,\r\n      defaultRate: calc.defaultRate,\r\n      fields: calc.fields.map(f => ({ key: f.key, label: f.label, type: f.type }))\r\n    });\r\n  }\r\n\r\n  async function handleDelete(id) {\r\n    try {\r\n      await deleteCalculator(id);\r\n      fetchCalculators();\r\n    } catch {\r\n      setError('Не удалось удалить калькулятор');\r\n    }\r\n  }\r\n\r\n  function resetForm() {\r\n    setEditingId(null);\r\n    setForm({ name: '', type: '', defaultRate: '', fields: [] });\r\n    setError('');\r\n  }\r\n\r\n  return (\r\n    <div className=\"admin\">\r\n      <h2>{editingId ? 'Редактировать калькулятор' : 'Новый калькулятор'}</h2>\r\n      <form onSubmit={handleSave} className=\"admin-form\">\r\n        <div className=\"form-group\">\r\n          <label>Категория:</label>\r\n          <select value={form.type} onChange={handleCategoryChange} required>\r\n            <option value=\"\">Выберите категорию</option>\r\n            {Object.keys(CATEGORY_TEMPLATES).map(cat => (\r\n              <option key={cat} value={cat}>\r\n                {cat.charAt(0).toUpperCase() + cat.slice(1)}\r\n              </option>\r\n            ))}\r\n          </select>\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Название:</label>\r\n          <input\r\n            type=\"text\"\r\n            value={form.name}\r\n            onChange={e => setForm({ ...form, name: e.target.value })}\r\n            required\r\n          />\r\n        </div>\r\n        <div className=\"form-group\">\r\n          <label>Ставка по умолчанию (%):</label>\r\n          <input\r\n            type=\"number\"\r\n            value={form.defaultRate}\r\n            onChange={e => setForm({ ...form, defaultRate: e.target.value })}\r\n            required\r\n          />\r\n        </div>\r\n\r\n        <h3>Поля калькулятора</h3>\r\n        {form.fields.map((field, i) => (\r\n          <div key={i} className=\"field-row\">\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Ключ поля\"\r\n              value={field.key}\r\n              onChange={e => handleFieldChange(i, 'key', e.target.value)}\r\n              required\r\n            />\r\n            <input\r\n              type=\"text\"\r\n              placeholder=\"Метка поля\"\r\n              value={field.label}\r\n              onChange={e => handleFieldChange(i, 'label', e.target.value)}\r\n              required\r\n            />\r\n            <select\r\n              value={field.type}\r\n              onChange={e => handleFieldChange(i, 'type', e.target.value)}\r\n            >\r\n              <option value=\"text\">Текст</option>\r\n              <option value=\"number\">Число</option>\r\n              <option value=\"date\">Дата</option>\r\n            </select>\r\n            <button type=\"button\" onClick={() => removeField(i)}>Удалить</button>\r\n          </div>\r\n        ))}\r\n        <button type=\"button\" onClick={addField}>Добавить поле</button>\r\n\r\n        <div className=\"form-actions\">\r\n          <button type=\"submit\">{editingId ? 'Сохранить' : 'Создать'}</button>\r\n          {editingId && <button type=\"button\" onClick={resetForm}>Отмена</button>}\r\n        </div>\r\n        {error && <p className=\"error\">{error}</p>}\r\n      </form>\r\n      <h2>Существующие калькуляторы</h2>\r\n      <ul className=\"calc-list\">\r\n        {calculators.map(calc => (\r\n          <li key={calc._id} className=\"calc-item\">\r\n            <span>{calc.name} ({calc.type})</span>\r\n            <div>\r\n              <button onClick={() => handleEdit(calc)}>Редактировать</button>\r\n              <button onClick={() => handleDelete(calc._id)}>Удалить</button>\r\n            </div>\r\n          </li>\r\n        ))}\r\n      </ul>\r\n    </div>\r\n  );\r\n}\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}